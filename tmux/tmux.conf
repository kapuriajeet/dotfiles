# ============================
#   Basic Tmux Shortcuts
# ============================
# Prefix key: Ctrl-a (instead of default Ctrl-b)
#
# --- Sessions ---
# tmux new -s name       # Create new session
# tmux attach -t name    # Attach to session
# tmux ls                # List sessions
# tmux kill-session -t n # Kill session
#
# --- Windows ---
# prefix + c     # Create new window
# prefix + ,     # Rename window
# prefix + w     # List windows
# prefix + n     # Next window
# prefix + p     # Previous window
# prefix + l     # Last window (you remapped)
#
# --- Panes ---
# prefix + |     # Vertical split (custom binding)
# prefix + -     # Horizontal split (custom binding)
# prefix + h/j/k/l  # Move between panes (custom vim-like bindings)
# prefix + q     # Show pane numbers
# prefix + x     # Kill pane
#
# --- Resurrect / Continuum ---
# prefix + Ctrl-s   # Save tmux environment
# prefix + Ctrl-r   # Restore tmux environment
# (auto restore enabled on restart with continuum)
#
# --- Misc ---
# prefix + d     # Detach from session
# prefix + r     # Reload tmux config (custom binding)

# ============================
#   Actual Config
# ============================

unbind r
bind r source-file ~/.config/tmux/tmux.conf

set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"

set -g base-index 1
setw -g pane-base-index 1
set -g prefix C-a

set -g mouse on

set-window-option -g mode-keys vi

bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

# Easy pane splitting
bind | split-window -h   # Vertical split
bind - split-window -v   # Horizontal split
unbind '"'
unbind '%'

# tmux toggle window
unbind l
bind l last-window

set-option -g status-position bottom

# set -g @catppuccin_flavor "mocha"
set -g @catppuccin_window_status_style "rounded"

# Disable automatic renaming (important for window name persistence)
set-option -g allow-rename off
set-option -g automatic-rename off

# List of plugins
set -g @plugin 'catppuccin/tmux#v2.1.0'
set -g @catppuccin_window_default_text "#W"
set -g @catppuccin_window_text "#W"
set -g @catppuccin_window_current_text "#W"

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# Continuum: auto restore on restart
set -g @continuum-restore 'on'

# Resurrect: save window names
set -g @resurrect-save-window-names 'on'

# Initialize TMUX plugin manager (keep at the very bottom)
run '~/.config/tmux/plugins/tpm/tpm'

# Status bar style
set -g status-style bg=default
